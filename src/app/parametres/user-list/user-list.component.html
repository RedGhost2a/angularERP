<div class="global-height">
  <div class="big-container global-big-container">
    <h3 class="title global-title"> Liste des utilisateurs</h3>
    <div class="header global-header">
      <mat-form-field class="global-search-input">
        <mat-label>Recherche d'un client</mat-label>
        <div>
        </div>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. cim..." #input>
      </mat-form-field>
      <div class="global-button-add custom-button-add">
        <button mat-raised-button color="primary" (click)="openDialogCreate(null)">Ajouter un utilisateur</button>
      </div>
    </div>
    <div class="container global-container">
      <table mat-table [dataSource]="dataSource"
             class="mat-elevation-z8 global-table">
        <ng-container matColumnDef="id">
          <th class="global-th" mat-header-cell *matHeaderCellDef>ID</th>
          <td class="global-td" mat-cell *matCellDef="let element"> {{element.id}} </td>
        </ng-container>
        <ng-container matColumnDef="title">
          <th class="global-th" mat-header-cell *matHeaderCellDef>Title</th>
          <td class="global-td" mat-cell *matCellDef="let element"> {{element.title}} </td>
        </ng-container>
        <ng-container matColumnDef="firstName">
          <th class="global-th" mat-header-cell *matHeaderCellDef>Nom</th>
          <td class="global-td" mat-cell *matCellDef="let element"> {{element.firstName}} </td>
        </ng-container>
        <ng-container matColumnDef="lastName">
          <th class="global-th" mat-header-cell *matHeaderCellDef>Pr√©nom</th>
          <td class="global-td" mat-cell *matCellDef="let element"> {{element.lastName}} </td>
        </ng-container>
        <ng-container matColumnDef="email">
          <th class="global-th" mat-header-cell *matHeaderCellDef>Email</th>
          <td class="global-td" mat-cell *matCellDef="let element"> {{element.email}} </td>
        </ng-container>
        <ng-container matColumnDef="role">
          <th class="global-th" mat-header-cell *matHeaderCellDef>Role</th>
          <td class="global-td" mat-cell *matCellDef="let element"> {{element.role}} </td>
        </ng-container>
        <ng-container matColumnDef="entreprise">
          <th class="global-th" mat-header-cell *matHeaderCellDef>Entreprises</th>
          <td class="global-td" mat-cell *matCellDef="let element">
            <ng-container *ngFor="let entreprise of element.Entreprises">
              {{ entreprise.denomination }} <br>
            </ng-container>
          </td>
        </ng-container>
        <ng-container matColumnDef="boutons">
          <th class="global-th" mat-header-cell *matHeaderCellDef>Boutons</th>
          <td class="global-td" mat-cell *matCellDef="let element">
            <mat-icon [matMenuTriggerFor]="bouton">more_vert</mat-icon>
            <mat-menu class="menu" #bouton>
              <button class="btn" mat-button color="primary" (click)="openDialogCreate(element)">
                <mat-icon>create</mat-icon>
                Modifier
              </button>
              <br>
              <button class="btn" mat-button color="warn" (click)="delete(element.id)">
                <mat-icon>clear</mat-icon>
                Supprimer
              </button>
            </mat-menu>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;">
        </tr>
      </table>
    </div>
  </div>
</div>
