<div class="form-group">
  <ng-container>
    <div class="form-group-header">
      <h1 class="form-group-title">{{textButton}}</h1>
    </div>
    <form class="form" [formGroup]="myFormGroup">
      <div class="form-row" >
          <img [src]="previewUrl" *ngIf="previewUrl" class="image-preview" />
        <div class="flex-column">
          <input type="file" formControlName="logo" (change)="onFileSelected($event)" [placeholder]="selectedFileName">
          <mat-hint align="end">Taille de fichier max : 1MB</mat-hint>
        </div>
      </div>
      <div class="form-row">
        <mat-form-field>
          <mat-label> Nom commerciale</mat-label>
          <input matInput placeholder="Entrer la dénomination commerciale" formControlName="commercialName">
        </mat-form-field>
        <mat-form-field>
          <mat-label> Dénomination</mat-label>
          <input matInput placeholder="Entrer la dénomination" formControlName="denomination">
          <mat-error *ngIf="myFormGroup.get('denomination')?.hasError('required')">
            Vous devez choisir une dénomination au minimum.
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Forme Juridique</mat-label>
          <mat-select formControlName="formeJuridique">
            <mat-option value="SA">Société Anonyme (SA)</mat-option>
            <mat-option value="SAS">Société par Actions Simplifiée (SAS)</mat-option>
            <mat-option value="SARL">Société à Responsabilité Limitée (SARL)</mat-option>
            <mat-option value="EURL">Entreprise Unipersonnelle à Responsabilité Limitée (EURL)</mat-option>
            <mat-option value="SASU">Société par Actions Simplifiée Unipersonnelle (SASU)</mat-option>
            <mat-option value="SCI">Société Civile Immobilière (SCI)</mat-option>
            <mat-option value="SCOP">Société Coopérative de Production (SCOP)</mat-option>
            <mat-option value="SCP">Société Civile Professionnelle (SCP)</mat-option>
            <mat-option value="SNC">Société en Nom Collectif (SNC)</mat-option>
            <mat-option value="auto-entrepreneur">Auto-entrepreneur</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-label> Capital</mat-label>
          <input matInput placeholder="Entrer le capital" formControlName="capital">
        </mat-form-field>
      </div>
      <div class="form-row">
        <mat-form-field>
          <mat-label> RCS</mat-label>
          <input matInput placeholder="Entrer le RCS" formControlName="rcs">
        </mat-form-field>
        <mat-form-field style="width:50vw">
          <mat-label>Siret</mat-label>
          <input matInput placeholder="Entrer le siret" formControlName="siret">
        </mat-form-field>
        <mat-form-field>
          <mat-label>Code NAF</mat-label>
          <input matInput formControlName="nafCode">
        </mat-form-field>
        <mat-form-field style="width:50vw">
          <mat-label>Numéro TVA</mat-label>
          <input matInput formControlName="tvaNumber">
        </mat-form-field>
      </div>
      <div class="form-row" formGroupName="Adresse">
        <mat-form-field style="width:50vw">
          <mat-label>Adresse</mat-label>
          <input matInput formControlName="adresses">
          <mat-error *ngIf="myFormGroup.get('Adresse.adresses')?.hasError('required')">
            Vous devez renseignez une adresse.
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Code postal</mat-label>
          <input matInput formControlName="zipcode">
          <mat-error *ngIf="myFormGroup.get('Adresse.zipcode')?.hasError('required')">
            Vous devez renseigner un code postal.
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Ville</mat-label>
          <input matInput formControlName="city">
          <mat-error *ngIf="myFormGroup.get('Adresse.city')?.hasError('required')">
            Vous devez inscrire une ville.
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Pays</mat-label>
          <input matInput formControlName="country">
        </mat-form-field>
      </div>
      <div class="form-row">
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input matInput formControlName="email">
        </mat-form-field>
        <mat-form-field>
          <mat-label>Numéro de téléphone</mat-label>
          <input matInput formControlName="phoneNumber">
          <mat-error *ngIf="myFormGroup.get('phoneNumber')?.hasError('required')">
            Vous devez mettre un numéro de téléphone.
          </mat-error>
        </mat-form-field>

      </div>

    </form>
    <button class="button" mat-flat-button color="primary" (click)="createOrUpdate()"
            type="submit">{{textButton}}</button>
  </ng-container>
</div>
